<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Freelancer - Start Bootstrap Theme</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="foto/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet"
        type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
</head>

<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger" href="#page-top" id="namaToko" onclick="tampilModal()">Start
                Bootstrap</a>
        </div>
    </nav>
    <!-- Masthead-->
    <header class="masthead bg-primary text-white text-center">
        <div class="container d-flex align-items-center flex-column">
            <!-- Masthead Avatar Image-->
            <img class="masthead-avatar mb-5" src="foto/avataaars.svg" alt="" />
            <!-- Masthead Heading-->
            <h1 class="masthead-heading mb-0">Selamat datang di toko kami :)</h1>
            <!-- Icon Divider-->
            <div class="divider-custom divider-light">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>
            <!-- Masthead Subheading-->
        </div>
    </header>
    <!-- Portfolio Section-->
    <section class="page-section portfolio" id="portfolio">
        <div class="container">
            <!-- Portfolio Section Heading-->
            <h2 class="page-section-heading text-center text-secondary mb-0">Produk Kami :</h2>
            <!-- Icon Divider-->
            <div class="divider-custom">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>
            <!-- Portfolio Grid Items-->
            <div class="row justify-content-center" id="tempatBarang">

            </div>
        </div>
    </section>
    <!-- Copyright Section-->
    <div class="copyright py-4 text-center text-white">
        <div class="container"><small>Copyright Â© <b id="copyright"></b></small></div>
    </div>
    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes)-->
    <div class="scroll-to-top d-lg-none position-fixed">
        <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top"><i
                class="fa fa-chevron-up"></i></a>
    </div>
    <!-- Portfolio Modals-->
    <!-- Portfolio Modal 1-->
    <div class="portfolio-modal modal fade" id="pengaturanModal" tabindex="-1" role="dialog"
        aria-labelledby="portfolioModal1Label" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"><i class="fas fa-times"></i></span>
                </button>
                <div class="modal-body text-center">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-2">
                                Nama Toko :
                            </div>
                            <div class="col-lg-2">
                                <input type="text" class="form-control" id="isianNamaToko" />
                            </div>
                            <div class="col-lg-2">
                                Pass Baru :
                            </div>
                            <div class="col-lg-2">
                                <input type="password" class="form-control" id="ubahPass" />
                            </div>
                            <div class="col-lg-2">
                                konfir Pass :
                            </div>
                            <div class="col-lg-2">
                                <input type="password" class="form-control" id="confirUbahPass" />
                            </div>
                            <div class="col-lg-2">
                                <div id="pesanErrUbahPengaturan" class="badge badge-danger"></div>
                                <button class="btn btn-info mt-2" onclick="ubahPengaturan()">Ubah</button>
                            </div>
                        </div>
                        <hr />
                        <div class="row justify-content-center mt-3">
                            <h5 class="col-lg-12 justify-content-center mt-4">Data Barang :</h5>
                        </div>
                        <div class="row justify-content-center" id="listBarang">

                        </div>
                        <hr />
                        <div class="row justify-content-center mt-4">
                            <div class="col-lg-2">
                            </div>
                            <div class="col-lg-2">
                                <input type="text" class="form-control" placeholder="Nama Barang"
                                    id="isianNamaBarang" />
                            </div>
                            <div class="col-lg-1">
                                Foto :
                            </div>
                            <div class="col-lg-3">
                                <input type="file" class="form-control" id="foto" />
                            </div>
                            <div class="col-lg-2">
                                <button class="btn btn-info mt-2" onclick="tambahBarang()">Tambah</button>
                            </div>
                            <div class="col-lg-2">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="daftarModal" tabindex="-1" role="dialog"
        aria-labelledby="portfolioModal1Label" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"><i class="fas fa-times"></i></span>
                </button>
                <div class="modal-body text-center">
                    <div class="container">
                        <h5 class="col-lg-12 justify-content-center mb-4">Daftar Password Admin :</h5>
                        <div class="row justify-content-center">
                            <div class="col-lg-2">
                            </div>
                            <div class="col-lg-2">
                                Password :
                            </div>
                            <div class="col-lg-2">
                                <input type="password" class="form-control" id="pass" />
                            </div>
                            <div class="col-lg-2">
                                konfirmasi Password :
                            </div>
                            <div class="col-lg-2">
                                <input type="password" class="form-control" id="confirPass" />
                            </div>
                            <div class="col-lg-2">
                            </div>
                            <div class="col-lg-12">
                                <div id="pesanErrDaftarAdmin" class="badge badge-danger"></div>
                            </div>
                        </div>
                        <div class="row justify-content-center mt-4">
                            <div class="col-lg-2">
                                <button class="btn btn-info" id="tombolTambahPass"
                                    onclick="daftarAdmin()">Tambah</button>
                            </div>
                        </div>
                        <hr />
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="loginModal" tabindex="-1" role="dialog"
        aria-labelledby="portfolioModal1Label" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"><i class="fas fa-times"></i></span>
                </button>
                <div class="modal-body text-center">
                    <div class="container">
                        <h5 class="col-lg-12 justify-content-center mb-4">Masukan Password Admin :</h5>
                        <div class="row justify-content-center">
                            <div class="col-lg-2">
                                Password :
                            </div>
                            <div class="col-lg-2">
                                <input type="password" class="form-control" id="loginPass" />
                                <div id="pesanErrLogin" class="badge badge-danger"></div>
                            </div>
                        </div>
                        <div class="row justify-content-center mt-4">
                            <div class="col-lg-2">
                                <button class="btn btn-info" id="tombolLogin" onclick="login()">Masuk</button>
                            </div>
                        </div>
                        <hr />
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Bootstrap core JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Third party plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>

    <script>
        if (localStorage.getItem("namaToko")) {
            var date = new Date();

            $("#namaToko").html(localStorage.getItem("namaToko"));
            $("#copyright").html(localStorage.getItem("namaToko") + " " + date.getFullYear())
        }

        //localStorage.setItem("data", "Bawang+cabin.png=Cabe+cake.png=Tomat+safe.png");
        tampilkanDataAwal()

        function tampilkanDataAwal() {
            var data = localStorage.getItem("data");
            data = data.split("=");
            var pemisah = '';
            var hasil = "";

            if (localStorage.getItem("data")) {
                for (let i = 0; i < data.length; i++) {
                    pemisah = data[i].split('+');
                    hasil += '<div class="col-md-6 col-lg-4 mb-5"><div div class="portfolio-item mx-auto"><h4 class="text-center text-secondary text-uppercase font-weight-bold">' + pemisah[0] + '</h4><div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100"> <div class="portfolio-item-caption-content text-center text-white">' + pemisah[0] + '</div></div><img class="img-fluid" src="foto/' + pemisah[1] + '" alt="" /></div></div>';
                }
            }
            document.getElementById("tempatBarang").innerHTML = hasil;
        }

        function tampilModal() {
            if (localStorage.getItem("pass")) {
                $("#loginModal").modal("show")
            } else {
                $("#daftarModal").modal("show")
            }
        }

        function daftarAdmin() {
            if ($("#pass").val() == $("#confirPass").val()) {
                $("#pesanErrDaftarAdmin").html("")
                localStorage.setItem("pass", $("#pass").val())

                $("#daftarModal").modal("hide")
            } else {
                $("#pesanErrDaftarAdmin").html("Konfirmasi Password tidak cocok")
            }
        }
        function login() {
            if ($("#loginPass").val() == localStorage.getItem("pass")) {
                $("#loginPass").val("")
                $("#loginModal").modal("hide")
                $("#pengaturanModal").modal("show")
                if (localStorage.getItem("namaToko")) {
                    $("#isianNamaToko").val(localStorage.getItem("namaToko"))
                }
                tampilkanData()
                $("#ubahPass").val(localStorage.getItem("pass"))
                $("#pesanErrLogin").html("")
            } else {
                $("#pesanErrLogin").html("Password tidak cocok")
            }
        }

        function ubahPengaturan() {
            if ($("#ubahPass").val() == $("#confirUbahPass").val()) {
                localStorage.setItem("pass", $("#ubahPass").val())
                localStorage.setItem("namaToko", $("#isianNamaToko").val())
                $("#namaToko").html(localStorage.getItem("namaToko"))
                $("#pesanErrUbahPengaturan").html("")
                $("#pengaturanModal").modal("hide")
            } else {
                $("#pesanErrUbahPengaturan").html("Konfirmasi Password tidak cocok")
            }
        }

        function tampilkanData() {
            var data = localStorage.getItem("data");
            data = data.split("=");
            var pemisah = '';
            var hasil = "";
            if (localStorage.getItem("data")) {
                for (let i = 0; i < data.length; i++) {
                    pemisah = data[i].split('+');
                    hasil += '<div class="col-lg-2 font-weight-bold">' + pemisah[0] + ' <button class="badge badge-danger" onClick="hapusData(' + i + ')"> <i class="fas fa-times"></i></button></div>'
                }
            }
            console.log(localStorage.getItem("data"))
            document.getElementById("listBarang").innerHTML = hasil;
        }

        function hapusData(id) {
            var data = localStorage.getItem("data");
            data = data.split("=");
            var hasil = "";
            for (let i = 0; i < data.length; i++) {
                if (i != id) {
                    hasil += data[i]
                }
                if (i < (data.length - 2)) { hasil += "="; }
            }
            localStorage.setItem("data", hasil)
            tampilkanData();
            tampilkanDataAwal()
        }

        function tambahBarang() {
            var nama = $("#isianNamaBarang").val();
            var foto = $("#foto").val().split("\\");
            foto = foto[foto.length - 1];
            console.log(foto);

            var dataLama = localStorage.getItem("data");
            var dataBaru = dataBaru = nama + "+" + foto;
            if (dataLama) {
                dataBaru = "=" + dataBaru;
            }
            localStorage.setItem("data", dataLama + dataBaru);
            var nama = $("#isianNamaBarang").val("");
            var foto = $("#foto").val("");
            tampilkanData();
            tampilkanDataAwal()
        }

    </script>
</body>

</html>